{
  "report_timestamp": "2025-05-30T07:03:55.781055",
  "system_health": {
    "timestamp": "2025-05-30T07:03:55.781060",
    "overall_status": "warning",
    "components": {
      "mongodb": {
        "overall_status": "warning",
        "timestamp": "2025-05-30T07:03:57.640599",
        "duration_ms": 1859.534502029419,
        "status_summary": {
          "healthy": 13,
          "warning": 1,
          "critical": 0,
          "unknown": 0
        },
        "metrics": [
          {
            "name": "ping_response_time",
            "value": 61.85,
            "unit": "ms",
            "status": "healthy",
            "type": "connection",
            "message": "ping_response_time is normal: 61.85ms",
            "timestamp": "2025-05-30T07:03:55.842935"
          },
          {
            "name": "active_connections",
            "value": 4,
            "unit": "",
            "status": "healthy",
            "type": "connection",
            "message": "active_connections is normal: 4",
            "timestamp": "2025-05-30T07:03:55.908391"
          },
          {
            "name": "connection_usage_percent",
            "value": 0.8,
            "unit": "%",
            "status": "healthy",
            "type": "connection",
            "message": "connection_usage_percent is normal: 0.8%",
            "timestamp": "2025-05-30T07:03:55.908402"
          },
          {
            "name": "server_uptime",
            "value": 729552.0,
            "unit": "seconds",
            "status": "healthy",
            "type": "connection",
            "message": "Server uptime: 202.0h 39.0m",
            "timestamp": "2025-05-30T07:03:55.908409"
          },
          {
            "name": "memory_resident",
            "value": 0,
            "unit": "MB",
            "status": "healthy",
            "type": "performance",
            "message": "memory_resident is normal: 0MB",
            "timestamp": "2025-05-30T07:03:55.971565"
          },
          {
            "name": "network_bytes_in",
            "value": 181287,
            "unit": "bytes",
            "status": "healthy",
            "type": "performance",
            "message": "Network bytes in: 181,287",
            "timestamp": "2025-05-30T07:03:55.971573"
          },
          {
            "name": "total_operations",
            "value": 79,
            "unit": "",
            "status": "healthy",
            "type": "operations",
            "message": "Total operations: 79",
            "timestamp": "2025-05-30T07:03:55.971576"
          },
          {
            "name": "database_data_size",
            "value": 0.0,
            "unit": "MB",
            "status": "healthy",
            "type": "storage",
            "message": "Database data size: 0.00 MB",
            "timestamp": "2025-05-30T07:03:56.033721"
          },
          {
            "name": "database_index_size",
            "value": 0.29,
            "unit": "MB",
            "status": "healthy",
            "type": "storage",
            "message": "Database index size: 0.29 MB",
            "timestamp": "2025-05-30T07:03:56.033725"
          },
          {
            "name": "collection_count",
            "value": 11,
            "unit": "",
            "status": "healthy",
            "type": "storage",
            "message": "Collections: 11",
            "timestamp": "2025-05-30T07:03:56.033728"
          },
          {
            "name": "index_count",
            "value": 53,
            "unit": "",
            "status": "healthy",
            "type": "storage",
            "message": "Indexes: 53",
            "timestamp": "2025-05-30T07:03:56.033730"
          },
          {
            "name": "operation_check_error",
            "value": "currentOp may only be run against the admin database., full error: {'ok': 0.0, 'errmsg': 'currentOp may only be run against the admin database.', 'code': 13, 'codeName': 'Unauthorized', '$clusterTime': {'clusterTime': Timestamp(1748588636, 4), 'signature': {'hash': b'\\\\\\xc5d\\x94\\x174\\xeb=W\\x9bE#\\x11\\x08\\xd3\\xf3/\\xda\\xc8\\xd2', 'keyId': 7449128240947396609}}, 'operationTime': Timestamp(1748588636, 4)}",
            "unit": "",
            "status": "warning",
            "type": "error",
            "message": "Operation check failed: currentOp may only be run against the admin database., full error: {'ok': 0.0, 'errmsg': 'currentOp may only be run against the admin database.', 'code': 13, 'codeName': 'Unauthorized', '$clusterTime': {'clusterTime': Timestamp(1748588636, 4), 'signature': {'hash': b'\\\\\\xc5d\\x94\\x174\\xeb=W\\x9bE#\\x11\\x08\\xd3\\xf3/\\xda\\xc8\\xd2', 'keyId': 7449128240947396609}}, 'operationTime': Timestamp(1748588636, 4)}",
            "timestamp": "2025-05-30T07:03:56.095501"
          },
          {
            "name": "total_indexes_across_collections",
            "value": 53,
            "unit": "",
            "status": "healthy",
            "type": "storage",
            "message": "Total indexes: 53",
            "timestamp": "2025-05-30T07:03:57.640578"
          },
          {
            "name": "total_index_size",
            "value": 0.29,
            "unit": "MB",
            "status": "healthy",
            "type": "storage",
            "message": "total_index_size is normal: 0.29MB",
            "timestamp": "2025-05-30T07:03:57.640585"
          }
        ],
        "errors": []
      },
      "redis": {
        "status": "healthy",
        "type": "Redis"
      },
      "chromadb": {
        "status": "healthy"
      },
      "indexes": {
        "total_collections": 9,
        "total_indexes": 51,
        "missing_indexes": 0,
        "extra_indexes": 0
      }
    },
    "errors": []
  },
  "performance_metrics": {
    "period_minutes": 30,
    "timestamp": "2025-05-30T07:03:58.829019",
    "averages": {
      "ping_response_time": 181.25,
      "active_connections": 3.67,
      "memory_resident": 0.0
    },
    "trends": {
      "ping_response_time": "stable",
      "active_connections": "increasing",
      "memory_resident": "stable"
    },
    "operation_counts": {},
    "error_counts": {}
  },
  "errors": [],
  "detailed_monitoring": {
    "report_timestamp": "2025-05-30T07:03:58.829065",
    "last_health_check": {
      "overall_status": "warning",
      "timestamp": "2025-05-30T07:03:57.640599",
      "duration_ms": 1859.534502029419,
      "status_summary": {
        "healthy": 13,
        "warning": 1,
        "critical": 0,
        "unknown": 0
      },
      "metrics": [
        {
          "name": "ping_response_time",
          "value": 61.85,
          "unit": "ms",
          "status": "healthy",
          "type": "connection",
          "message": "ping_response_time is normal: 61.85ms",
          "timestamp": "2025-05-30T07:03:55.842935"
        },
        {
          "name": "active_connections",
          "value": 4,
          "unit": "",
          "status": "healthy",
          "type": "connection",
          "message": "active_connections is normal: 4",
          "timestamp": "2025-05-30T07:03:55.908391"
        },
        {
          "name": "connection_usage_percent",
          "value": 0.8,
          "unit": "%",
          "status": "healthy",
          "type": "connection",
          "message": "connection_usage_percent is normal: 0.8%",
          "timestamp": "2025-05-30T07:03:55.908402"
        },
        {
          "name": "server_uptime",
          "value": 729552.0,
          "unit": "seconds",
          "status": "healthy",
          "type": "connection",
          "message": "Server uptime: 202.0h 39.0m",
          "timestamp": "2025-05-30T07:03:55.908409"
        },
        {
          "name": "memory_resident",
          "value": 0,
          "unit": "MB",
          "status": "healthy",
          "type": "performance",
          "message": "memory_resident is normal: 0MB",
          "timestamp": "2025-05-30T07:03:55.971565"
        },
        {
          "name": "network_bytes_in",
          "value": 181287,
          "unit": "bytes",
          "status": "healthy",
          "type": "performance",
          "message": "Network bytes in: 181,287",
          "timestamp": "2025-05-30T07:03:55.971573"
        },
        {
          "name": "total_operations",
          "value": 79,
          "unit": "",
          "status": "healthy",
          "type": "operations",
          "message": "Total operations: 79",
          "timestamp": "2025-05-30T07:03:55.971576"
        },
        {
          "name": "database_data_size",
          "value": 0.0,
          "unit": "MB",
          "status": "healthy",
          "type": "storage",
          "message": "Database data size: 0.00 MB",
          "timestamp": "2025-05-30T07:03:56.033721"
        },
        {
          "name": "database_index_size",
          "value": 0.29,
          "unit": "MB",
          "status": "healthy",
          "type": "storage",
          "message": "Database index size: 0.29 MB",
          "timestamp": "2025-05-30T07:03:56.033725"
        },
        {
          "name": "collection_count",
          "value": 11,
          "unit": "",
          "status": "healthy",
          "type": "storage",
          "message": "Collections: 11",
          "timestamp": "2025-05-30T07:03:56.033728"
        },
        {
          "name": "index_count",
          "value": 53,
          "unit": "",
          "status": "healthy",
          "type": "storage",
          "message": "Indexes: 53",
          "timestamp": "2025-05-30T07:03:56.033730"
        },
        {
          "name": "operation_check_error",
          "value": "currentOp may only be run against the admin database., full error: {'ok': 0.0, 'errmsg': 'currentOp may only be run against the admin database.', 'code': 13, 'codeName': 'Unauthorized', '$clusterTime': {'clusterTime': Timestamp(1748588636, 4), 'signature': {'hash': b'\\\\\\xc5d\\x94\\x174\\xeb=W\\x9bE#\\x11\\x08\\xd3\\xf3/\\xda\\xc8\\xd2', 'keyId': 7449128240947396609}}, 'operationTime': Timestamp(1748588636, 4)}",
          "unit": "",
          "status": "warning",
          "type": "error",
          "message": "Operation check failed: currentOp may only be run against the admin database., full error: {'ok': 0.0, 'errmsg': 'currentOp may only be run against the admin database.', 'code': 13, 'codeName': 'Unauthorized', '$clusterTime': {'clusterTime': Timestamp(1748588636, 4), 'signature': {'hash': b'\\\\\\xc5d\\x94\\x174\\xeb=W\\x9bE#\\x11\\x08\\xd3\\xf3/\\xda\\xc8\\xd2', 'keyId': 7449128240947396609}}, 'operationTime': Timestamp(1748588636, 4)}",
          "timestamp": "2025-05-30T07:03:56.095501"
        },
        {
          "name": "total_indexes_across_collections",
          "value": 53,
          "unit": "",
          "status": "healthy",
          "type": "storage",
          "message": "Total indexes: 53",
          "timestamp": "2025-05-30T07:03:57.640578"
        },
        {
          "name": "total_index_size",
          "value": 0.29,
          "unit": "MB",
          "status": "healthy",
          "type": "storage",
          "message": "total_index_size is normal: 0.29MB",
          "timestamp": "2025-05-30T07:03:57.640585"
        }
      ],
      "errors": []
    },
    "monitoring_active": true,
    "performance_summary": {
      "period_minutes": 60,
      "timestamp": "2025-05-30T07:03:58.829098",
      "averages": {
        "ping_response_time": 181.25,
        "active_connections": 3.67,
        "memory_resident": 0.0
      },
      "trends": {
        "ping_response_time": "stable",
        "active_connections": "increasing",
        "memory_resident": "stable"
      },
      "operation_counts": {},
      "error_counts": {}
    },
    "metrics_history": {
      "ping_response_time": [
        {
          "value": 65.32,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.793109"
        },
        {
          "value": 416.57,
          "status": "warning",
          "timestamp": "2025-05-30T07:03:54.144399"
        },
        {
          "value": 61.85,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:55.842935"
        }
      ],
      "active_connections": [
        {
          "value": 3,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.859176"
        },
        {
          "value": 4,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:54.210123"
        },
        {
          "value": 4,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:55.908391"
        }
      ],
      "connection_usage_percent": [
        {
          "value": 0.6,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.859190"
        },
        {
          "value": 0.8,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:54.210140"
        },
        {
          "value": 0.8,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:55.908402"
        }
      ],
      "server_uptime": [
        {
          "value": 729550.0,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.859197"
        },
        {
          "value": 729550.0,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:54.210146"
        },
        {
          "value": 729552.0,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:55.908409"
        }
      ],
      "memory_resident": [
        {
          "value": 0,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.926795"
        },
        {
          "value": 0,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:54.276410"
        },
        {
          "value": 0,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:55.971565"
        }
      ],
      "network_bytes_in": [
        {
          "value": 167548,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.926830"
        },
        {
          "value": 170332,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:54.276420"
        },
        {
          "value": 181287,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:55.971573"
        }
      ],
      "total_operations": [
        {
          "value": 58,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.926834"
        },
        {
          "value": 59,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:54.276423"
        },
        {
          "value": 79,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:55.971576"
        }
      ],
      "database_data_size": [
        {
          "value": 0.0,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.992874"
        },
        {
          "value": 0.0,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:54.344125"
        },
        {
          "value": 0.0,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:56.033721"
        }
      ],
      "database_index_size": [
        {
          "value": 0.29,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.992879"
        },
        {
          "value": 0.29,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:54.344129"
        },
        {
          "value": 0.29,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:56.033725"
        }
      ],
      "collection_count": [
        {
          "value": 11,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.992882"
        },
        {
          "value": 11,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:54.344132"
        },
        {
          "value": 11,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:56.033728"
        }
      ],
      "index_count": [
        {
          "value": 53,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:53.992884"
        },
        {
          "value": 53,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:54.344134"
        },
        {
          "value": 53,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:56.033730"
        }
      ],
      "operation_check_error": [
        {
          "value": "currentOp may only be run against the admin database., full error: {'ok': 0.0, 'errmsg': 'currentOp may only be run against the admin database.', 'code': 13, 'codeName': 'Unauthorized', '$clusterTime': {'clusterTime': Timestamp(1748588634, 10), 'signature': {'hash': b'\\x00|\\xbb\\x88\\xdf?\\xdd5[b\\xc6\\xd5\\x81(\\xa0D\\xfd|%\\xcb', 'keyId': 7449128240947396609}}, 'operationTime': Timestamp(1748588634, 10)}",
          "status": "warning",
          "timestamp": "2025-05-30T07:03:54.055110"
        },
        {
          "value": "currentOp may only be run against the admin database., full error: {'ok': 0.0, 'errmsg': 'currentOp may only be run against the admin database.', 'code': 13, 'codeName': 'Unauthorized', '$clusterTime': {'clusterTime': Timestamp(1748588634, 13), 'signature': {'hash': b'\\x00|\\xbb\\x88\\xdf?\\xdd5[b\\xc6\\xd5\\x81(\\xa0D\\xfd|%\\xcb', 'keyId': 7449128240947396609}}, 'operationTime': Timestamp(1748588634, 13)}",
          "status": "warning",
          "timestamp": "2025-05-30T07:03:54.408793"
        },
        {
          "value": "currentOp may only be run against the admin database., full error: {'ok': 0.0, 'errmsg': 'currentOp may only be run against the admin database.', 'code': 13, 'codeName': 'Unauthorized', '$clusterTime': {'clusterTime': Timestamp(1748588636, 4), 'signature': {'hash': b'\\\\\\xc5d\\x94\\x174\\xeb=W\\x9bE#\\x11\\x08\\xd3\\xf3/\\xda\\xc8\\xd2', 'keyId': 7449128240947396609}}, 'operationTime': Timestamp(1748588636, 4)}",
          "status": "warning",
          "timestamp": "2025-05-30T07:03:56.095501"
        }
      ],
      "total_indexes_across_collections": [
        {
          "value": 53,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:55.779817"
        },
        {
          "value": 53,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:56.129886"
        },
        {
          "value": 53,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:57.640578"
        }
      ],
      "total_index_size": [
        {
          "value": 0.29,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:55.779826"
        },
        {
          "value": 0.29,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:56.129894"
        },
        {
          "value": 0.29,
          "status": "healthy",
          "timestamp": "2025-05-30T07:03:57.640585"
        }
      ]
    }
  },
  "index_status": {
    "collections": {
      "repositories": {
        "current_indexes": [
          "url_unique",
          "status_active",
          "created_at_desc",
          "owner_name_compound",
          "_id_",
          "last_updated_desc",
          "text_search",
          "language_main"
        ],
        "expected_indexes": [
          "url_unique",
          "status_active",
          "created_at_desc",
          "owner_name_compound",
          "_id_",
          "last_updated_desc",
          "text_search",
          "language_main"
        ],
        "missing_indexes": [],
        "extra_indexes": [],
        "index_count": 8
      },
      "commits": {
        "current_indexes": [
          "branch_commits",
          "author_email",
          "_id_",
          "repository_id_timestamp",
          "sha_unique",
          "timestamp_desc",
          "commit_text_search"
        ],
        "expected_indexes": [
          "branch_commits",
          "author_email",
          "_id_",
          "repository_id_timestamp",
          "sha_unique",
          "timestamp_desc",
          "commit_text_search"
        ],
        "missing_indexes": [],
        "extra_indexes": [],
        "index_count": 7
      },
      "file_changes": {
        "current_indexes": [
          "_id_",
          "lines_changed_desc",
          "commit_id_path",
          "repository_file_path",
          "change_type",
          "file_extension"
        ],
        "expected_indexes": [
          "_id_",
          "lines_changed_desc",
          "commit_id_path",
          "repository_file_path",
          "change_type",
          "file_extension"
        ],
        "missing_indexes": [],
        "extra_indexes": [],
        "index_count": 6
      },
      "analysis_sessions": {
        "current_indexes": [
          "status_active",
          "created_at_desc",
          "duration_performance",
          "_id_",
          "repository_id_created",
          "analysis_type"
        ],
        "expected_indexes": [
          "status_active",
          "created_at_desc",
          "duration_performance",
          "_id_",
          "repository_id_created",
          "analysis_type"
        ],
        "missing_indexes": [],
        "extra_indexes": [],
        "index_count": 6
      },
      "ai_analysis_results": {
        "current_indexes": [
          "session_id_timestamp",
          "_id_",
          "analysis_type_confidence",
          "tags_array",
          "text_search_results",
          "repository_id_type"
        ],
        "expected_indexes": [
          "session_id_timestamp",
          "_id_",
          "analysis_type_confidence",
          "tags_array",
          "text_search_results",
          "repository_id_type"
        ],
        "missing_indexes": [],
        "extra_indexes": [],
        "index_count": 6
      },
      "code_metrics": {
        "current_indexes": [
          "complexity_desc",
          "repository_commit_compound",
          "_id_",
          "timestamp_metrics",
          "language_metrics"
        ],
        "expected_indexes": [
          "complexity_desc",
          "repository_commit_compound",
          "_id_",
          "timestamp_metrics",
          "language_metrics"
        ],
        "missing_indexes": [],
        "extra_indexes": [],
        "index_count": 5
      },
      "user_activity": {
        "current_indexes": [
          "repository_activity",
          "activity_type",
          "_id_",
          "recent_activity",
          "user_id_timestamp"
        ],
        "expected_indexes": [
          "repository_activity",
          "activity_type",
          "_id_",
          "recent_activity",
          "user_id_timestamp"
        ],
        "missing_indexes": [],
        "extra_indexes": [],
        "index_count": 5
      },
      "search_history": {
        "current_indexes": [
          "search_terms_text",
          "ttl_expiry",
          "_id_",
          "user_id_timestamp"
        ],
        "expected_indexes": [
          "search_terms_text",
          "ttl_expiry",
          "_id_",
          "user_id_timestamp"
        ],
        "missing_indexes": [],
        "extra_indexes": [],
        "index_count": 4
      },
      "cache_entries": {
        "current_indexes": [
          "cache_key_unique",
          "ttl_expiry",
          "_id_",
          "cache_type"
        ],
        "expected_indexes": [
          "cache_key_unique",
          "ttl_expiry",
          "_id_",
          "cache_type"
        ],
        "missing_indexes": [],
        "extra_indexes": [],
        "index_count": 4
      }
    },
    "total_collections": 9,
    "total_indexes": 51,
    "index_sizes": {},
    "missing_indexes": [],
    "extra_indexes": []
  },
  "connection_status": {
    "is_connected": true,
    "last_ping": "2025-05-30T07:03:52.695361",
    "connection_count": 1,
    "error_count": 0,
    "last_error": null,
    "last_error_time": null,
    "uptime_seconds": null,
    "server_info": {
      "version": "8.0.9",
      "gitVersion": "f882ef816d531ecfbb593843e4c554fda90ca416",
      "platform": null,
      "maxBsonObjectSize": 16777216
    },
    "config": {
      "database_name": "code_evolution_ai",
      "max_pool_size": 10,
      "min_pool_size": 5,
      "monitoring_enabled": true
    }
  }
}